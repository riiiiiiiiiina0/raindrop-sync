<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Raindrop Sync Options</title>
  <link rel="icon" type="image/png" href="../icons/icon-32x32.png">
  <link rel="stylesheet" href="options.css">
</head>

<body>
  <div class="container">
    <header>
      <h1><img src="../icons/icon-48x48.png" alt="Raindrop Sync" class="title-icon"> Raindrop Sync Settings</h1>
      <p>Configure Raindrop.io API token to enable automatic bookmark syncing.</p>
    </header>

    <main>
      <h3>Authentication</h3>
      <div class="form-group">
        <label for="apiToken">Raindrop.io Test Token:</label>
        <input type="password" id="apiToken" placeholder="Enter your Raindrop.io test token">
        <div class="help-text">
          <p>You can find your test token in your <a href="https://app.raindrop.io/settings/integrations"
              target="_blank">Raindrop.io integration settings</a>.</p>
        </div>
      </div>

      <div class="button-group">
        <button id="verifyButton">Save and Verify</button>
      </div>

      <div class="backup-section">
        <h3>Sync Management</h3>

        <div class="timestamps-section">
          <div class="timestamp-row">
            <span class="timestamp-label">üìö Last Import to Browser:</span>
            <span id="lastImportTime" class="timestamp-value">Never</span>
          </div>
          <div class="timestamp-row">
            <span class="timestamp-label">‚è∞ Next Scheduled Import:</span>
            <span id="nextBackupTime" class="timestamp-value">Not scheduled</span>
          </div>
        </div>
        <div id="status" class="status"></div>
        <div id="backupStatus" class="status"></div>
        <button id="backupButton" class="backup-button" disabled>Sync Raindrops Now</button>
      </div>

      <div class="preferences-section">
        <h3>Preferences</h3>

        <div class="preference-group">
          <div class="preference-item">
            <div class="preference-main">
              <label for="showNotifications" class="preference-label">Show Notifications</label>
              <p class="preference-description">Get notified when bookmarks are synced</p>
            </div>
            <div class="toggle-container">
              <input type="checkbox" id="showNotifications" class="toggle-input" checked>
              <label for="showNotifications" class="toggle-switch"></label>
            </div>
          </div>
        </div>

        <div class="preference-group">
          <div class="preference-item">
            <div class="preference-main">
              <label for="actionButtonBehavior" class="preference-label">Action Button Behavior</label>
              <p class="preference-description">Choose what happens when you click the extension icon</p>
            </div>
            <div class="select-container">
              <select id="actionButtonBehavior" class="preference-select">
                <option value="save">üíæ Save tab(s) to Raindrop</option>
                <option value="sync">üîÑ Trigger manual sync</option>
                <option value="none">‚ö™ Do nothing</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="options.js"></script>
</body>

</html>